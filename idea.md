# Проект "Прораб-Финанс Мост"

## 1. Резюме Идеи (Executive Summary)

**Проблема:** Существует значительный разрыв между оперативными данными на стройплощадке (у прораба) и требованиями финансового/бухгалтерского учета (например, в СБИС, 1С). Прорабы фиксируют данные (материалы, работы, часы) в неудобных форматах (блокноты, фото, мессенджеры), а бухгалтерия тратит массу времени на расшифровку, перенос данных и исправление ошибок. Это ведет к задержкам в учете, искажению финансовой картины, отсутствию оперативного контроля и потенциальным кассовым разрывам. Существующие ERP-системы (Procore, CMiC) часто слишком сложны и дороги для малого/среднего строительного бизнеса.

**Решение:** "Прораб-Финанс Мост" – это **SaaS-платформа**, состоящая из:
    *   **Ультра-простого мобильного приложения (React Native)** для прорабов для быстрой фиксации первичных данных прямо на объекте (приемка/списание материалов, учет выполненных работ, опционально – учет времени).
    *   **Облачного бэкенда (Laravel 11)** для централизованного хранения, обработки данных и управления доступом.
    *   **Веб-интерфейса (React)** для администраторов/бухгалтеров для управления проектами, пользователями, справочниками и, самое главное, для **получения структурированных данных** в виде отчетов и файлов для легкого импорта в учетные системы (СБИС, 1С и т.д.).
    *   **API** для будущих прямых интеграций.

**Ценность:** Платформа устраняет двойной ввод, снижает ошибки, ускоряет обмен данными между "полем" и "офисом", повышает прозрачность и оперативность учета для малого и среднего строительного бизнеса.

## 2. Ключевые Функции (MVP - Minimum Viable Product)

### Мобильное приложение для Прораба (React Native)

*   **Авторизация:** Вход по логину/паролю.
*   **Выбор Объекта:** Возможность переключаться между назначенными объектами.
*   **Приемка Материалов:**
    *   Выбор поставщика (из справочника).
    *   Выбор материала (из справочника).
    *   Ввод количества.
    *   Прикрепление фото накладной/материала.
    *   *Запись лога о приемке.*
*   **Списание Материалов:**
    *   Выбор материала из "остатков на объекте" (принятых ранее).
    *   Ввод количества.
    *   Указание, на какой вид работ списано (выбор из справочника).
    *   *Запись лога о списании.*
*   **Фиксация Выполненных Работ:**
    *   Выбор вида работ (из справочника, привязанного к объекту/смете).
    *   Ввод выполненного объема (единицы измерения подтягиваются из справочника).
    *   Прикрепление фото выполненных работ (опционально, но рекомендуется).
    *   *Запись лога о выполнении.*
*   **Офлайн-режим:** Возможность вносить данные без интернета с последующей автоматической синхронизацией при появлении сети.

### Личный Кабинет Владельца Организации (Веб-интерфейс, React)

*   **Авторизация:** Вход по логину/паролю (для владельца организации).
*   **Дашборд/Обзор:** Основная страница с ключевой статистикой (например, общее кол-во активных объектов, кол-во пользователей, статус подписки, возможно, график расходов за период).
*   **Управление Подписками:** Просмотр текущего тарифа, истории платежей, выбор/смена тарифа.
*   **Баланс и Оплата:** (Опционально в MVP, но важно) Просмотр баланса счета, пополнение, история транзакций, настройка автосписания.
*   **Управление Пользователями Админки:** Возможность создавать/редактировать/блокировать учетные записи для пользователей, которые будут работать в *Административной Панели* (бухгалтеры, менеджеры и т.д.).
*   **База Знаний/Справка:** Доступ к документации, FAQ, форме обращения в поддержку.

### Административная Панель (Веб-интерфейс, React)

*   **Авторизация:** Вход по логину/паролю (для администраторов, бухгалтеров и т.д.).
*   **Управление Пользователями (Прорабы):** Добавление/редактирование/блокировка прорабов, назначение ролей.
*   **Управление Объектами:** Создание/редактирование объектов, назначение прорабов на объекты.
*   **Управление Справочниками:**
    *   Материалы (название, ед. изм.).
    *   Виды работ (название, ед. изм.).
    *   Поставщики.
*   **Просмотр Логов Операций:** Детальный просмотр всех записей, сделанных прорабами (приемки материалов, списания материалов, фиксация работ) с возможностью фильтрации (по объекту, дате, типу операции, пользователю).
*   **Формирование Отчетов/Выгрузок:**
    *   **Ключевая функция MVP!** Генерация отчетов (например, за период по объекту) в формате CSV или Excel.
    *   Примеры отчетов: Движение материалов, Выполненные работы.
    *   Структура отчетов должна быть максимально удобна для импорта в учетные системы (СБИС, 1С).
*   **Настройки Профиля:** Базовые настройки для текущего пользователя админ-панели.

### Веб-интерфейс для Администратора/Бухгалтера (React)

*   **Авторизация:** Вход по логину/паролю.
*   **Управление Пользователями:** Добавление/редактирование/блокировка прорабов, назначение ролей.
*   **Управление Объектами:** Создание/редактирование объектов, назначение прорабов на объекты.
*   **Управление Справочниками:**
    *   Материалы (название, ед. изм.).
    *   Виды работ (название, ед. изм.).
    *   Поставщики.
    *   (Важно: эти справочники используются в мобильном приложении для выбора).
*   **Просмотр Логов:** Просмотр всех записей, сделанных прорабами (приемки, списания, работы) с фильтрацией по объекту, дате, типу операции.
*   **Формирование Отчетов/Выгрузок:**
    *   **Ключевая функция MVP!** Генерация отчета (например, за период по объекту) в формате CSV или Excel, структура которого максимально удобна для импорта в СБИС/1С (например, отчет по движению материалов, отчет по выполненным работам).

### Бэкенд и API (Laravel 11)

*   **API:** RESTful API для взаимодействия с мобильным и веб-приложением.
*   **База данных:** Хранение пользователей, объектов, справочников, всех логов операций.
*   **Бизнес-логика:** Обработка данных, расчет остатков материалов на объекте (упрощенный), управление правами доступа.
*   **Фоновые задачи (Queues):** Для обработки синхронизации из офлайн-режима.

## 3. Технологический Стек

*   **Бэкенд:** PHP 8.3+, Laravel 11
*   **Мобильное приложение:** React Native (на базе React 18.3.1)
*   **Веб-приложение:** React 18.3.1, TypeScript 5.5, Vite 5.3.1 (или Webpack 5.92.1)
*   **База данных:** PostgreSQL 16.3 (или MySQL 8.4.0)
*   **Веб-сервер:** Nginx 1.26.1
*   **Кеширование/Очереди:** Redis 7.2.5
*   **Хостинг:** Облачная платформа (AWS, DigitalOcean, Yandex Cloud, etc.)
*   **Версионирование:** Git 2.45.2 (GitLab, GitHub, Bitbucket)

## 4. Монетизация

*   **SaaS-подписка:** Ежемесячная или годовая оплата.
*   **Тарифные планы:** Могут зависеть от:
    *   Количества пользователей-прорабов.
    *   Количества активных объектов.
    *   Объема хранимых данных/фото.
*   **Возможен Free Tier:** Ограниченный план (например, 1 прораб, 1 объект) для привлечения пользователей.

## 5. Пошаговый План Реализации MVP (Примерный)

**(Общая оценка: ~4-6 месяцев для команды из 2 человек, один фулстек/бэкенд, один фронтенд/мобильный)**

**Этап 1: Подготовка и Проектирование (2-3 недели)**

1.  **Детализация требований:** Окончательно определить *минимальный* набор функций для MVP.
2.  **Проектирование UI/UX:** Создать простые, интуитивно понятные макеты (wireframes, mockups) для мобильного и веб-интерфейса. **Ключ - простота для прораба!**
3.  **Проектирование БД:** Разработать структуру базы данных.
4.  **Проектирование API:** Определить основные эндпоинты и форматы данных.
5.  **Выбор и настройка инструментов:** Репозиторий Git, таск-трекер, CI/CD (базовый).

**Этап 2: Разработка Бэкенда (4-6 недель)**

1.  **Настройка проекта Laravel:** Установка, базовая конфигурация.
2.  **Реализация Аутентификации:** Регистрация (для админа), логин (для всех).
3.  **Создание Моделей и Миграций:** Users, Projects, Materials, WorkTypes, Suppliers, Logs (Receipts, WriteOffs, WorkDone).
4.  **Реализация API эндпоинтов:** CRUD для пользователей, объектов, справочников; эндпоинты для записи логов из мобильного приложения.
5.  **Реализация прав доступа:** Разграничение возможностей для прораба и администратора.
6.  **Написание базовых тестов (Unit, Feature).**

**Этап 3: Разработка Мобильного Приложения (6-8 недель)**

1.  **Настройка проекта React Native:** Установка, базовая навигация (React Navigation).
2.  **Экраны Аутентификации:** Логин.
3.  **Экран выбора объекта.**
4.  **Реализация основных экранов:** Приемка, Списание, Выполненные работы (формы ввода, выбор из справочников, загрузка фото).
5.  **Интеграция с API:** Получение справочников, отправка логов.
6.  **Реализация Офлайн-хранилища:** Использование AsyncStorage или Realm/WatermelonDB для хранения данных при отсутствии сети.
7.  **Реализация логики Синхронизации:** Отправка накопленных данных на бэкенд при появлении сети.
8.  **Базовое тестирование на эмуляторах/устройствах.**

**Этап 4: Разработка Веб-Интерфейса (5-7 недель)**

1.  **Настройка проекта React:** Установка, роутинг.
2.  **Экраны Аутентификации:** Логин.
3.  **Реализация CRUD интерфейсов:** Управление пользователями, объектами, справочниками.
4.  **Просмотр Логов:** Табличное представление данных с фильтрацией.
5.  **Реализация Выгрузки Отчетов:** Генерация CSV/Excel файлов по запросу пользователя.
6.  **Интеграция с API.**
7.  **Адаптивная верстка (для десктопа).**

**Этап 5: Тестирование, Развертывание и Запуск (3-4 недели)**

1.  **Интеграционное тестирование:** Проверка взаимодействия всех частей системы.
2.  **Нагрузочное тестирование (базовое):** Проверка производительности API.
3.  **Подготовка инфраструктуры:** Настройка сервера, базы данных, веб-сервера на хостинге.
4.  **Развертывание (Deploy):** Бэкенда и веб-приложения.
5.  **Сборка и публикация мобильного приложения:** Внутреннее тестирование (TestFlight, Google Play Internal Testing).
6.  **Beta-тестирование:** Привлечение реальных прорабов и бухгалтеров для получения обратной связи.
7.  **Исправление багов по результатам бета-теста.**
8.  **Публичный запуск MVP.**

**Этап 6: Поддержка и Развитие (Постоянно)**

1.  **Сбор обратной связи:** Анализ использования, общение с пользователями.
2.  **Исправление багов.**
3.  **Планирование и разработка следующих версий:** Добавление новых функций (см. ниже).

## 6. Будущие Улучшения (Post-MVP)

*   **Прямые интеграции с учетными системами:** API-интеграция со СБИС, 1С (самое важное).
*   **Более детальный учет рабочего времени:** Табели, отчеты по часам.
*   **Управление задачами:** Постановка и контроль выполнения задач для прорабов.
*   **Фото-отчеты:** Возможность аннотирования фото, генерация структурированных фото-отчетов.
*   **GPS-трекинг:** Фиксация местоположения при выполнении операций (опционально).
*   **Уведомления (Push & Email):** О новых задачах, о приемке материалов и т.д.
*   **Аналитика и Дашборды:** Визуализация данных по расходу материалов, выполнению работ, срокам.
*   **Интеграция с бюджетированием/сметами:** Сравнение факта с планом.
*   **Управление Заявками:** Более сложная система заявок на материалы/технику с согласованиями.

---